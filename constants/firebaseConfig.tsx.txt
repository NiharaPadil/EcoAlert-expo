// import { initializeApp } from "firebase/app";
// import {
//   initializeAuth,
//   getAuth,
//   browserLocalPersistence,
//   signInWithEmailAndPassword as signIn,
//   createUserWithEmailAndPassword as createUser,
//   GoogleAuthProvider,
//   getRea
// } from "firebase/auth";
// import AsyncStorage from "@react-native-async-storage/async-storage";
// import { getFirestore } from "firebase/firestore";
// import { getStorage } from "firebase/storage";
// import { Platform } from "react-native";

// const firebaseConfig = {
//   apiKey: "AIzaSyBGamOXCsK7WDRqI6bjISAWkeTzHHGnbNw", // Replace with your API key
//   authDomain: "ecoalert-c4641.firebaseapp.com", // Auth domain
//   projectId: "ecoalert-c4641", // Project ID
//   storageBucket: "ecoalert-c4641.appspot.com", // Storage bucket
//   appId: "1:972988340427:android:cff81e828776a0725fa34e", // App ID
// };

// // Initialize Firebase app
// const app = initializeApp(firebaseConfig);

// // Initialize Auth (use default persistence, Firebase handles it internally)
// const auth = initializeAuth(app);

// // Initialize Firestore and Storage
// const db = getFirestore(app);
// const storage = getStorage(app);

// export { auth, db, createUser, storage };


import { initializeApp } from "firebase/app";
import {
  initializeAuth,
  getAuth,
  browserLocalPersistence,
  signInWithEmailAndPassword as signIn,
  createUserWithEmailAndPassword as createUser,
  GoogleAuthProvider,
getReactNativePersistence,
} from "firebase/auth";
import AsyncStorage from "@react-native-async-storage/async-storage";
import { getFirestore } from "firebase/firestore";
import { getStorage } from "firebase/storage";
import { Platform } from "react-native";

const firebaseConfig = {
  apiKey: "AIzaSyBGamOXCsK7WDRqI6bjISAWkeTzHHGnbNw", // Replace with your API key
  authDomain: "ecoalert-c4641.firebaseapp.com", // Auth domain
  projectId: "ecoalert-c4641", // Project ID
  storageBucket: "ecoalert-c4641.appspot.com", // Storage bucket
  appId: "1:972988340427:android:cff81e828776a0725fa34e", // App ID
  // You can also add other properties if necessary, such as measurementId, etc.
};

const app = initializeApp(firebaseConfig);
const auth = initializeAuth(app, {
  persistence: Platform.OS === 'web' ? browserLocalPersistence : getReactNativePersistence(AsyncStorage),
});

const db = getFirestore(app); // Initialize Firestore
const storage = getStorage(app); // Initialize Storage

export { auth, db, createUser, storage }; 
